{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { getGlobalFlag } from '@cloudscape-design/component-toolkit/internal';\nimport { useVisualRefresh } from '../hooks/use-visual-mode';\nexport function createWidgetizedComponent(Implementation) {\n  return Loader => {\n    return props => {\n      const isRefresh = useVisualRefresh();\n      if (isRefresh && getGlobalFlag('appLayoutWidget') && Loader) {\n        return React.createElement(Loader, Object.assign({}, props));\n      }\n      return React.createElement(Implementation, Object.assign({}, props));\n    };\n  };\n}\nexport function createWidgetizedForwardRef(Implementation) {\n  return Loader => {\n    return React.forwardRef((props, ref) => {\n      const isRefresh = useVisualRefresh();\n      if (isRefresh && getGlobalFlag('appLayoutWidget') && Loader) {\n        return React.createElement(Loader, Object.assign({\n          ref: ref\n        }, props));\n      }\n      return React.createElement(Implementation, Object.assign({\n        ref: ref\n      }, props));\n    });\n  };\n}","map":{"version":3,"names":["React","getGlobalFlag","useVisualRefresh","createWidgetizedComponent","Implementation","Loader","props","isRefresh","createElement","Object","assign","createWidgetizedForwardRef","forwardRef","ref"],"sources":["/home/jj/aws-threat-model-app/node_modules/src/internal/widgets/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { getGlobalFlag } from '@cloudscape-design/component-toolkit/internal';\n\nimport { useVisualRefresh } from '../hooks/use-visual-mode';\n\n// Built-in React.FunctionComponent has always present `children` property which is not desired\ntype FunctionComponent<Props> = (props: Props) => JSX.Element;\n\nexport function createWidgetizedComponent<Component extends FunctionComponent<any>>(Implementation: Component) {\n  return (Loader?: Component): Component => {\n    return (props => {\n      const isRefresh = useVisualRefresh();\n      if (isRefresh && getGlobalFlag('appLayoutWidget') && Loader) {\n        return <Loader {...(props as any)} />;\n      }\n\n      return <Implementation {...(props as any)} />;\n    }) as Component;\n  };\n}\n\nexport function createWidgetizedForwardRef<\n  Props,\n  RefType,\n  Component extends React.ForwardRefExoticComponent<Props & React.RefAttributes<RefType>>,\n>(Implementation: Component) {\n  return (Loader?: Component): Component => {\n    return React.forwardRef<RefType, Props>((props, ref) => {\n      const isRefresh = useVisualRefresh();\n      if (isRefresh && getGlobalFlag('appLayoutWidget') && Loader) {\n        return <Loader ref={ref} {...(props as any)} />;\n      }\n\n      return <Implementation ref={ref} {...(props as any)} />;\n    }) as Component;\n  };\n}\n"],"mappings":"AAAA;AACA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,aAAa,QAAQ,+CAA+C;AAE7E,SAASC,gBAAgB,QAAQ,0BAA0B;AAK3D,OAAM,SAAUC,yBAAyBA,CAA2CC,cAAyB;EAC3G,OAAQC,MAAkB,IAAe;IACvC,OAAQC,KAAK,IAAG;MACd,MAAMC,SAAS,GAAGL,gBAAgB,EAAE;MACpC,IAAIK,SAAS,IAAIN,aAAa,CAAC,iBAAiB,CAAC,IAAII,MAAM,EAAE;QAC3D,OAAOL,KAAA,CAAAQ,aAAA,CAACH,MAAM,EAAAI,MAAA,CAAAC,MAAA,KAAMJ,KAAa,EAAI;;MAGvC,OAAON,KAAA,CAAAQ,aAAA,CAACJ,cAAc,EAAAK,MAAA,CAAAC,MAAA,KAAMJ,KAAa,EAAI;IAC/C,CAAC;EACH,CAAC;AACH;AAEA,OAAM,SAAUK,0BAA0BA,CAIxCP,cAAyB;EACzB,OAAQC,MAAkB,IAAe;IACvC,OAAOL,KAAK,CAACY,UAAU,CAAiB,CAACN,KAAK,EAAEO,GAAG,KAAI;MACrD,MAAMN,SAAS,GAAGL,gBAAgB,EAAE;MACpC,IAAIK,SAAS,IAAIN,aAAa,CAAC,iBAAiB,CAAC,IAAII,MAAM,EAAE;QAC3D,OAAOL,KAAA,CAAAQ,aAAA,CAACH,MAAM,EAAAI,MAAA,CAAAC,MAAA;UAACG,GAAG,EAAEA;QAAG,GAAOP,KAAa,EAAI;;MAGjD,OAAON,KAAA,CAAAQ,aAAA,CAACJ,cAAc,EAAAK,MAAA,CAAAC,MAAA;QAACG,GAAG,EAAEA;MAAG,GAAOP,KAAa,EAAI;IACzD,CAAC,CAAc;EACjB,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}