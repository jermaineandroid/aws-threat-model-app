{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\nimport { InternalButton } from '../../../button/internal';\nimport { findUpUntil } from '../../../internal/utils/dom';\nimport { createWidgetizedComponent } from '../../../internal/widgets';\nimport sharedStyles from '../../resize/styles.css.js';\nimport testutilStyles from '../../test-classes/styles.css.js';\nimport styles from './styles.css.js';\nexport function AppLayoutNavigationImplementation(_ref) {\n  let {\n    appLayoutInternals\n  } = _ref;\n  var _a, _b, _c;\n  const {\n    ariaLabels,\n    onNavigationToggle,\n    isMobile,\n    navigationOpen,\n    navigation,\n    navigationFocusControl,\n    placement,\n    verticalOffsets\n  } = appLayoutInternals;\n  const drawersTopOffset = (_a = verticalOffsets.drawers) !== null && _a !== void 0 ? _a : placement.insetBlockStart;\n  // Close the Navigation drawer on mobile when a user clicks a link inside.\n  const onNavigationClick = event => {\n    const hasLink = findUpUntil(event.target, node => node.tagName === 'A' && !!node.href);\n    if (hasLink && isMobile) {\n      onNavigationToggle(false);\n    }\n  };\n  return React.createElement(\"nav\", {\n    \"aria-label\": (_b = ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.navigation) !== null && _b !== void 0 ? _b : undefined,\n    className: clsx(styles.navigation, {\n      [styles['is-navigation-open']]: navigationOpen,\n      [testutilStyles['drawer-closed']]: !navigationOpen\n    }, testutilStyles.navigation, sharedStyles['with-motion']),\n    \"aria-hidden\": !navigationOpen,\n    onClick: onNavigationClick,\n    style: {\n      blockSize: `calc(100vh - ${drawersTopOffset}px - ${placement.insetBlockEnd}px)`,\n      insetBlockStart: drawersTopOffset\n    }\n  }, React.createElement(\"div\", {\n    className: clsx(styles['animated-content'])\n  }, React.createElement(\"div\", {\n    className: clsx(styles['hide-navigation'])\n  }, React.createElement(InternalButton, {\n    ariaLabel: (_c = ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.navigationClose) !== null && _c !== void 0 ? _c : undefined,\n    iconName: isMobile ? 'close' : 'angle-left',\n    onClick: () => onNavigationToggle(false),\n    variant: \"icon\",\n    formAction: \"none\",\n    className: testutilStyles['navigation-close'],\n    ref: navigationFocusControl.refs.close\n  })), navigation));\n}\nexport const createWidgetizedAppLayoutNavigation = createWidgetizedComponent(AppLayoutNavigationImplementation);","map":{"version":3,"names":["React","clsx","InternalButton","findUpUntil","createWidgetizedComponent","sharedStyles","testutilStyles","styles","AppLayoutNavigationImplementation","_ref","appLayoutInternals","ariaLabels","onNavigationToggle","isMobile","navigationOpen","navigation","navigationFocusControl","placement","verticalOffsets","drawersTopOffset","_a","drawers","insetBlockStart","onNavigationClick","event","hasLink","target","node","tagName","href","createElement","_b","undefined","className","onClick","style","blockSize","insetBlockEnd","ariaLabel","_c","navigationClose","iconName","variant","formAction","ref","refs","close","createWidgetizedAppLayoutNavigation"],"sources":["/home/jj/aws-threat-model-app/node_modules/src/app-layout/visual-refresh-toolbar/navigation/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { InternalButton } from '../../../button/internal';\nimport { findUpUntil } from '../../../internal/utils/dom';\nimport { createWidgetizedComponent } from '../../../internal/widgets';\nimport { AppLayoutInternals } from '../interfaces';\n\nimport sharedStyles from '../../resize/styles.css.js';\nimport testutilStyles from '../../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\ninterface AppLayoutNavigationImplementationProps {\n  appLayoutInternals: AppLayoutInternals;\n}\n\nexport function AppLayoutNavigationImplementation({ appLayoutInternals }: AppLayoutNavigationImplementationProps) {\n  const {\n    ariaLabels,\n    onNavigationToggle,\n    isMobile,\n    navigationOpen,\n    navigation,\n    navigationFocusControl,\n    placement,\n    verticalOffsets,\n  } = appLayoutInternals;\n\n  const drawersTopOffset = verticalOffsets.drawers ?? placement.insetBlockStart;\n\n  // Close the Navigation drawer on mobile when a user clicks a link inside.\n  const onNavigationClick = (event: React.MouseEvent) => {\n    const hasLink = findUpUntil(\n      event.target as HTMLElement,\n      node => node.tagName === 'A' && !!(node as HTMLAnchorElement).href\n    );\n    if (hasLink && isMobile) {\n      onNavigationToggle(false);\n    }\n  };\n\n  return (\n    <nav\n      aria-label={ariaLabels?.navigation ?? undefined}\n      className={clsx(\n        styles.navigation,\n        {\n          [styles['is-navigation-open']]: navigationOpen,\n          [testutilStyles['drawer-closed']]: !navigationOpen,\n        },\n        testutilStyles.navigation,\n        sharedStyles['with-motion']\n      )}\n      aria-hidden={!navigationOpen}\n      onClick={onNavigationClick}\n      style={{\n        blockSize: `calc(100vh - ${drawersTopOffset}px - ${placement.insetBlockEnd}px)`,\n        insetBlockStart: drawersTopOffset,\n      }}\n    >\n      <div className={clsx(styles['animated-content'])}>\n        <div className={clsx(styles['hide-navigation'])}>\n          <InternalButton\n            ariaLabel={ariaLabels?.navigationClose ?? undefined}\n            iconName={isMobile ? 'close' : 'angle-left'}\n            onClick={() => onNavigationToggle(false)}\n            variant=\"icon\"\n            formAction=\"none\"\n            className={testutilStyles['navigation-close']}\n            ref={navigationFocusControl.refs.close}\n          />\n        </div>\n        {navigation}\n      </div>\n    </nav>\n  );\n}\n\nexport const createWidgetizedAppLayoutNavigation = createWidgetizedComponent(AppLayoutNavigationImplementation);\n"],"mappings":"AAAA;AACA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,IAAI,MAAM,MAAM;AAEvB,SAASC,cAAc,QAAQ,0BAA0B;AACzD,SAASC,WAAW,QAAQ,6BAA6B;AACzD,SAASC,yBAAyB,QAAQ,2BAA2B;AAGrE,OAAOC,YAAY,MAAM,4BAA4B;AACrD,OAAOC,cAAc,MAAM,kCAAkC;AAC7D,OAAOC,MAAM,MAAM,iBAAiB;AAMpC,OAAM,SAAUC,iCAAiCA,CAAAC,IAAA,EAA+D;EAAA,IAA9D;IAAEC;EAAkB,CAA0C,GAAAD,IAAA;;EAC9G,MAAM;IACJE,UAAU;IACVC,kBAAkB;IAClBC,QAAQ;IACRC,cAAc;IACdC,UAAU;IACVC,sBAAsB;IACtBC,SAAS;IACTC;EAAe,CAChB,GAAGR,kBAAkB;EAEtB,MAAMS,gBAAgB,GAAG,CAAAC,EAAA,GAAAF,eAAe,CAACG,OAAO,cAAAD,EAAA,cAAAA,EAAA,GAAIH,SAAS,CAACK,eAAe;EAE7E;EACA,MAAMC,iBAAiB,GAAIC,KAAuB,IAAI;IACpD,MAAMC,OAAO,GAAGtB,WAAW,CACzBqB,KAAK,CAACE,MAAqB,EAC3BC,IAAI,IAAIA,IAAI,CAACC,OAAO,KAAK,GAAG,IAAI,CAAC,CAAED,IAA0B,CAACE,IAAI,CACnE;IACD,IAAIJ,OAAO,IAAIZ,QAAQ,EAAE;MACvBD,kBAAkB,CAAC,KAAK,CAAC;;EAE7B,CAAC;EAED,OACEZ,KAAA,CAAA8B,aAAA;IAAA,cACc,CAAAC,EAAA,GAAApB,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEI,UAAU,cAAAgB,EAAA,cAAAA,EAAA,GAAIC,SAAS;IAC/CC,SAAS,EAAEhC,IAAI,CACbM,MAAM,CAACQ,UAAU,EACjB;MACE,CAACR,MAAM,CAAC,oBAAoB,CAAC,GAAGO,cAAc;MAC9C,CAACR,cAAc,CAAC,eAAe,CAAC,GAAG,CAACQ;KACrC,EACDR,cAAc,CAACS,UAAU,EACzBV,YAAY,CAAC,aAAa,CAAC,CAC5B;IAAA,eACY,CAACS,cAAc;IAC5BoB,OAAO,EAAEX,iBAAiB;IAC1BY,KAAK,EAAE;MACLC,SAAS,EAAE,gBAAgBjB,gBAAgB,QAAQF,SAAS,CAACoB,aAAa,KAAK;MAC/Ef,eAAe,EAAEH;;EAClB,GAEDnB,KAAA,CAAA8B,aAAA;IAAKG,SAAS,EAAEhC,IAAI,CAACM,MAAM,CAAC,kBAAkB,CAAC;EAAC,GAC9CP,KAAA,CAAA8B,aAAA;IAAKG,SAAS,EAAEhC,IAAI,CAACM,MAAM,CAAC,iBAAiB,CAAC;EAAC,GAC7CP,KAAA,CAAA8B,aAAA,CAAC5B,cAAc;IACboC,SAAS,EAAE,CAAAC,EAAA,GAAA5B,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAE6B,eAAe,cAAAD,EAAA,cAAAA,EAAA,GAAIP,SAAS;IACnDS,QAAQ,EAAE5B,QAAQ,GAAG,OAAO,GAAG,YAAY;IAC3CqB,OAAO,EAAEA,CAAA,KAAMtB,kBAAkB,CAAC,KAAK,CAAC;IACxC8B,OAAO,EAAC,MAAM;IACdC,UAAU,EAAC,MAAM;IACjBV,SAAS,EAAE3B,cAAc,CAAC,kBAAkB,CAAC;IAC7CsC,GAAG,EAAE5B,sBAAsB,CAAC6B,IAAI,CAACC;EAAK,EACtC,CACE,EACL/B,UAAU,CACP,CACF;AAEV;AAEA,OAAO,MAAMgC,mCAAmC,GAAG3C,yBAAyB,CAACI,iCAAiC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}